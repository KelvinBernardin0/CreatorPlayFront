<app-header></app-header>
<div class="container-fluid">
  <div class="row">
    <!-- BLOCOS -->
    <div class="col-md-3">
      <div class="structure-blocks">
        <h5>Estrutura</h5>
        <div class="card-deck">
          <div class="d-grid gap-3 col-8 mx-auto">
            <button
              class="btn btn-light header"
              type="button"
              (click)="carregarOpcoesHeaders()"
            >
              Header
            </button>
            <!-- <button
              class="btn btn-light header"
              type="button"
              (click)="redirecionarParaEmailComImagem()"
            >
              Header
            </button> -->
            <button
              class="btn btn-light footer"
              type="button"
              (click)="carregarOpcoesFooters()"
            >
              Footer
            </button>
            <button
              class="btn btn-light propriedadesbotao"
              type="button"
              (click)="carregarOpcoesPropriedades()"
            >
              Propriedades
            </button>
          </div>
        </div>
        <h5 style="margin-bottom: 30px">Blocos</h5>
        <div class="row">
          <div class="col-md-4">
            <div class="card square-card" (click)="carregarOpcoesTipografias()">
              <img
                src="assets/imagens/blocos/texto-icon.png"
                alt="Texto"
                class="img-icon"
              />
              Texto
            </div>
          </div>
          <div class="col-md-4">
            <div class="card square-card" (click)="AnexarImagem()">
              <img
                src="assets/imagens/blocos/imagem-icon.png"
                alt="imagem"
                class="img-icon"
              />Imagem
            </div>
          </div>
          <div class="col-md-4">
            <div class="card square-card" (click)="carregarOpcoesBotoes()">
              <img
                src="assets/imagens/blocos/botao-icon.png"
                alt="botao"
                class="img-icon"
              />
              Botão
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <div class="card square-card" (click)="carregarOpcoesCards()">
              <img
                src="assets/imagens/blocos/cards-icon.png"
                alt="cards"
                class="img-icon"
              />
              Cards
            </div>
          </div>
          <div class="col-md-4">
            <div class="card square-card" (click)="carregarOpcoesPlanos()">
              <img
                src="assets/imagens/blocos/planos-icon.png"
                alt="planos"
                class="img-icon"
              />
              Planos
            </div>
          </div>
          <div class="col-md-4">
            <div class="card square-card" (click)="carregarOpcoesVitrine()">
              <img
                src="assets/imagens/blocos/vitrine-icon.png"
                alt="vitrine"
                class="img-icon"
              />
              Vitrine
            </div>
          </div>
        </div>
        <div class="avancar">
          <button (click)="saveChanges()" class="btn btn-primary">
            Salvar HTML
          </button>
        </div>
        <div class="avancar">
          <button (click)="refazer()" class="btn btn-danger desfazer">
            Desfazer
          </button>
        </div>
        
      </div>
    </div>
    <!-- BLOCOS -->

    <!-- TEMPLATE -->
    

    <div class="col-md-6 emailfundo">
      <div class="centered-content">
        <div
          id="editable-container"
          contenteditable="true"
          [innerHTML]="emailHTML"
          (click)="makeEditable($event)"
          (keydown)="onKeyDown($event)"
        ></div>
        <!-- <button (click)="saveChanges()">Salvar Alterações</button> -->
      </div>
    </div>
    <!-- TEMPLATE -->

    <!-- PROPRIEDADES DO EMAIL -->
    <div class="col-md-3">
      <div class="block-properties">
        <!-- HEADER -->
        <div *ngIf="mostrarHeader" class="propriedades">
          <h5 style="margin-bottom: 50px">Propriedades do Header</h5>

          <div class="form-group">
            <label for="Headers">Headers: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="opcaoSelecionada($event)"
            >
              <option disabled selected>Escolher</option>
              <option *ngFor="let opcao of opcoesHeaders" [value]="opcao.path">
                {{ opcao.nome }}
              </option>
            </select>
          </div>
        </div>
        <!-- HEADER -->

        <!-- FOOTER -->
        <div *ngIf="mostrarFooter" class="propriedades">
          <h5 style="margin-bottom: 50px">Footers</h5>

          <div class="form-group">
            <label for="footers">Footers: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Escolher</option>
              <option
                *ngFor="let opcoes of opcoesFooters"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>
        </div>
        <!-- FOOTER -->

        <!-- PROPRIEDADES -->
        <div *ngIf="mostrarPropriedades" class="propriedades">
          <h5 style="margin-bottom: 50px">Propriedades do E-mail</h5>

          <!-- <div class="form-group">
            <label for="esquemaCores">Esquema de cores</label>
            <select class="form-select" aria-label="Default select example">
              <option disabled selected>Positivo</option>
              <option value="positivo">Positivo</option>
              <option value="negativo">Negativo</option>
            </select>
          </div> -->

          <div class="form-group">
            <label for="corFundo">Cor do fundo do e-mail</label>
            <select class="form-select" id="corFundo" (change)="mudarCorFundo($event)">
              <option disabled selected>Cor</option>
              <option value="branco">Branco</option>
              <option value="cinza">Cinza</option>
              <option value="roxo">Roxo</option>
            </select>
          </div>

          <!-- <div class="form-group">
            <label for="tipoTemplate">Tipo de template</label>
            <select class="form-select" id="tipoTemplate">
              <option disabled selected>Tipo</option>
              <option value="b2b">B2B</option>
              <option value="b2c">B2C</option>
            </select>
          </div> -->

          

          <div class="form-group">
            <label for="esquemaCores">Empresas: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Escolher</option>
              <option
                *ngFor="let opcoes of opcoesPropriedadesEmpresas"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>
        </div>
        <!-- PROPRIEDADES -->

        <!-- TIPOGRAFIAS -->
        <div *ngIf="mostrarTipografia">
          <h5 style="margin-bottom: 50px">Tipografias</h5>
          <div class="form-group">
            <label for="esquemaCores">Titulos: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Tamanhos e Cores</option>
              <option
                *ngFor="let opcoes of opcoesTitulos"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="esquemaCores">Descrições: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Tamanhos e Cores</option>
              <option
                *ngFor="let opcoes of opcoesDescricoes"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="esquemaCores">Links: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Tamanhos e Cores</option>
              <option
                *ngFor="let opcoes of opcoesLinks"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="esquemaCores">Cor: </label>
            <select class="form-select" aria-label="Default select example" #corSelect (change)="AplicaCor(corSelect.value)">
              <option disabled selected>Cor do Texto</option>
              <option value="#49066B" style="background-color: #49066B; color: #FFFFFF;">Roxo</option>
              <option value="#660099" style="background-color: #660099; color: #FFFFFF;">Roxo Claro</option>
              <option value="#000000" style="background-color: #000000; color: #FFFFFF;">Preto</option>
              <option value="#666666" style="background-color: #666666; color: #FFFFFF;">Cinza</option>
              <option value="#FFFFFF" style="background-color: #FFFFFF; color: #000000;">Branco</option>
            </select>
            <!-- <button class="btn btn-secondary btn-smaller" (click)="AplicaCor(corSelect.value)">Aplicar</button> -->
          </div>

          <div class="form-group">
            <label>Estilo:</label>
            <select class="form-select" (change)="aplicaEstiloSelecionado($event)">
              <option disabled selected >Selecione</option>
              <option value="bold" style="font-weight: bold;">Negrito</option>
              <option value="italic" style="font-style: italic;">Itálico</option>
              <option value="underline" style="text-decoration: underline;">Sublinhado</option>            </select>
          </div>
          
          <label>Inserir Link:
            <button  class="btn btn-secondary btn-smaller btn-link" (click)="inserirLink()">Clique aqui </button>
          </label>

          
        </div>
        <!-- TIPOGRAFIAS -->

        <!-- IMAGEM -->
        <div *ngIf="mostrarImagem">
          <h5 style="margin-bottom: 50px">Propriedades das Imagens</h5>
          <select class="form-select" style="margin-bottom: 30px"
          [(ngModel)]="selectedImageSize">
            <option value="P">Pequena (25%)</option>
            <option value="M">Média (50%)</option>
            <option value="G">Grande (100%)</option>
          </select>
          <div class="image-upload-container">
            <!-- Checkbox para confirmar termos de uso -->
            <label>
              <input type="checkbox" [(ngModel)]="termosDeUsoAceitos" />
              Eu aceito os termos de uso
            </label>
          
            <!-- Botão personalizado para upload de arquivo -->
            <label class="custom-file-upload">
              <input type="file" (change)="onFileSelected($event)" [disabled]="!termosDeUsoAceitos" />
              Escolher arquivo
            </label>
          </div>
        </div>
        <!-- IMAGEM -->


        <!-- BOTAO -->
        <div *ngIf="mostrarBotao">
          <h5 style="margin-bottom: 50px">Propriedades dos Botões</h5>
          <label for="esquemaCores">Escolha um botão: </label>

          <div class="form-group">
            <div class="btn-options">
              <img *ngFor="let opcao of opcoesBotoes" [src]="opcao.path" [alt]="opcao.nome" (click)="AplicaMudanca({ target: { value: opcao.nome } })" class="btn-img">
            </div>
          </div>
        </div>
        <!-- BOTAO -->

        <!-- CARDS -->
        <div *ngIf="mostrarCards">
          <h5 style="margin-bottom: 50px">Propriedades dos Cards</h5>
          <div class="form-group">
            <label for="esquemaCores">Cards: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Escolher</option>
              <option
                *ngFor="let opcoes of opcoesCards"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          
        </div>
        <!-- CARDS -->

        <!-- PLANOS -->
        <div *ngIf="mostrarPlanos">
          <h5 style="margin-bottom: 50px">Propriedades dos Planos</h5>
          <div class="form-group">
            <label for="esquemaCores">Titulos: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Tamanhos e Cores</option>
              <option
                *ngFor="let opcoes of opcoesPropriedades"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="esquemaCores">Descrições: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Tamanhos e Cores</option>
              <option
                *ngFor="let opcoes of opcoesPropriedades"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="esquemaCores">Links: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Tamanhos e Cores</option>
              <option
                *ngFor="let opcoes of opcoesPropriedades"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>
        </div>
        <!-- PLANOS -->

        <!-- VITRINE -->
        <div *ngIf="mostrarVitrine">
          <h5 style="margin-bottom: 50px">Propriedades das Vitrines</h5>
          <div class="form-group">
            <label for="esquemaCores">Equipamento: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Escolher</option>
              <option
                *ngFor="let opcoes of opcoesVitrineEquipamento"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="esquemaCores">Plano: </label>
            <select
              class="form-select"
              aria-label="Default select example"
              (change)="AplicaMudanca($event)"
            >
              <option disabled selected>Escolher</option>
              <option
                *ngFor="let opcoes of opcoesVitrinePlanos"
                [value]="opcoes.nome"
              >
                {{ opcoes.nome }}
              </option>
            </select>
          </div>
        </div>
        <!-- VITRINE -->
      </div>
    </div>
    <!-- PROPRIEDADES DO EMAIL -->
  </div>
